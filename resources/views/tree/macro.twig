{% macro tree(items, tree) %}
    {% for item in items %}
        <li data-id="{{ item.id }}">
            <div class="panel">

                {{ icon('bars', 'handle btn btn-xs') }}

                {% for column in item.columns %}
                    {% if column.value %}
                        <span class="{{ column.class }}" {{ column.attributes }}>
                        {{ column.value|raw }}
                    </span>
                    {% endif %}
                {% endfor %}

                <div class="buttons">
                    {{ buttons(item.buttons) }}
                </div>

            </div>

            <ul>
                {{ _self.tree(tree.items.children(item), tree) }}
            </ul>
        </li>
    {% endfor %}
{% endmacro %}
